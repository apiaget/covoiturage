<!DOCTYPE HTML>
<html lang="en" ng-app>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<title>Récurrence template page</title>
	<link rel="stylesheet" type="text/css" href="main.css">
    <script src="jquery-1.11.1.min.js"></script>
    <script src="registrations.js"></script>
</head>
<body ng-controller="ctrl">
	<!--<table id="registrationtable">
		<tr>
			<td class="dates"></td>
			<td class="arrow"></td>
			<td>Lun<br/>▼</td>
			<td>Mar<br/>▼</td>
			<td>Mer<br/>▼</td>
			<td>Jeu<br/>▼</td>
			<td>Ven<br/>▼</td>
			<td>Sam<br/>▼</td>
			<td>Dim<br/>▼</td>
		</tr>
		<tr>
			<td class="dates">
				01.12.14<br/>07.12.14
			</td>
			<td class="arrow">►</td>
			<td bgcolor="#2DE546">3/4</td>
			<td bgcolor="#2DE546">3/4</td>
			<td bgcolor="">3/4</td>
			<td bgcolor="#2DE546">3/4</td>
			<td bgcolor="">3/4</td>
			<td bgcolor="#2598FC">3/4</td>
			<td bgcolor="#2DE546">3/4</td>
		</tr>
		<tr>
			<td class="dates">
				08.12.14<br/>14.12.14
			</td>
			<td class="arrow">►</td>
			<td bgcolor="">1/4</td>
			<td bgcolor="">1/4</td>
			<td bgcolor="">1/4</td>
			<td bgcolor="">1/4</td>
			<td bgcolor="">1/4</td>
			<td bgcolor="">1/4</td>
			<td bgcolor="">1/4</td>
		</tr>
	</table>-->
	<div id="registrationData">
        {
            <br>"driver":[1],
            <br>"ride":["2014-12-31","2015-01-07", "08:00", "08:45",4,[0,1,0,1,0,0,0],4],
            <br>"filling":[["2015-01-01",["Axel PIAGET","Elliott CHIARADIA","Joël BUCHS"]],["2015-01-06",["Axel PIAGET","Elliott CHIARADIA","Joël BUCHS"]]],
            <br>"registrations":["2014-12-31","2015-01-01","2015-01-06"],
            <br>"userId":[50]
        <br>}       
    </div>
    <br/>
    <div id="registrationData333">
        {
            "driver":[1],
            "ride":["2014-12-31","2015-01-07", "08:00", "08:45",4,[0,1,0,1,0,0,0],4],            
            "filling":[["2015-01-01",["Axel PIAGET","Elliott CHIARADIA","Joël BUCHS"]],["2015-01-06",["Axel PIAGET","Elliott CHIARADIA","Joël BUCHS"]]],
            "registrations":["2014-12-31","2015-01-01","2015-01-06"],
            "userId":[50]
        }
    </div>
    <br>
	<div id="registrationData222">
    <!--    {
            "driver":[1],
            "ride":["2014-12-10","2014-12-17", "08:00", "08:45",4,[0,1,0,1,0,0,0],4],
            "filling":[[["Axel PIAGET","Elliott CHIARADIA","Joël BUCHS"],["Axel PIAGET","Elliott CHIARADIA","Joël BUCHS"],["Axel PIAGET","Elliott CHIARADIA","Joël BUCHS"]],[[
            "Axel PIAGET"],["Axel PIAGET"],["Axel PIAGET"]]],
            "registrations":["2014-12-11"],
            "userId":[50]
        }
    -->
    </div>

    <script>
    $(function () {
        $('#registrationData333').registration();
    });

    $(function () {
        //$('#registrationData222').registration();
    });
    </script>
    <div id="testsJS">
    </div>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.min.js"></script>
	<script type="text/javascript">
		/*$.get("/covoiturage/users/2", {token:'asdf'}, function(data){
			//console.log(data);
			$('#testsJS').html(data);
		},"json");*/
	</script>

	<script type="text/javascript">
		//var data =  ["firstname": "Axel","lastname": "Piaget","email": "axel.piaget@cpnv.ch", "phone": "0797227677", "privacy": ["hideEmail": "0","hidePhone": "0"],"notifications": ["notifComment": "1","notifDeleteRide": "1","notifRegistration": "1","notifChange": "1","notifUnsubscribe": "1"]];

		function ctrl($scope, $http) {
			$http
				.get('/covoiturage/api/users/1', {
					params : {
						"token":"asdf"
					}
				})
				.success(function(data,status,headers,config) {
					data.notifications.notifChange="0";
					console.log(data);
					$http.put('/covoiturage/api/users/3',
						data, {
						params : {
							"token":"asasddf"
						}	
					}).success(function(){
					});
					
				}).error(function(data,status,headers,config) {
					alert('Ca marche pas');
				});
		}
		ctrl.$inject = ['$scope', '$http'];

		//$http.get('/covoiturage/api/users/1', {token:"asdf"}).success(function(data,status,headers,config) {

		//});
        //$http.put('/covoiturage/api/users/1', data);
	</script>
    

</body>
</html>