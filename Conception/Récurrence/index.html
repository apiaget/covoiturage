<!DOCTYPE HTML>
<html lang="en" ng-app>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<title>Récurrence template page</title>
	<link rel="stylesheet" type="text/css" href="main.css">
    <script src="jquery-1.11.1.min.js"></script>
    <!--<script src="registrations.js"></script>-->
    <script src="registrations.js"></script>
</head>
<body ng-controller="ctrl">
	<!--<table id="registrationtable">
		<tr>
			<td class="dates"></td>
			<td class="arrow"></td>
			<td>Lun<br/>▼</td>
			<td>Mar<br/>▼</td>
			<td>Mer<br/>▼</td>
			<td>Jeu<br/>▼</td>
			<td>Ven<br/>▼</td>
			<td>Sam<br/>▼</td>
			<td>Dim<br/>▼</td>
		</tr>
		<tr>
			<td class="dates">
				01.12.14<br/>07.12.14
			</td>
			<td class="arrow">►</td>
			<td bgcolor="#2DE546">3/4</td>
			<td bgcolor="#2DE546">3/4</td>
			<td bgcolor="">3/4</td>
			<td bgcolor="#2DE546">3/4</td>
			<td bgcolor="">3/4</td>
			<td bgcolor="#2598FC">3/4</td>
			<td bgcolor="#2DE546">3/4</td>
		</tr>
		<tr>
			<td class="dates">
				08.12.14<br/>14.12.14
			</td>
			<td class="arrow">►</td>
			<td bgcolor="">1/4</td>
			<td bgcolor="">1/4</td>
			<td bgcolor="">1/4</td>
			<td bgcolor="">1/4</td>
			<td bgcolor="">1/4</td>
			<td bgcolor="">1/4</td>
			<td bgcolor="">1/4</td>
		</tr>
	</table>-->
	<!--<table class="tableau-calendrier">
		<tr>
			<td></td>
			<td><div class="carre-noir">Lun<br/><img src="img/arrowDownBlack.png"/></div></td>
			<td><div class="carre-noir">Mar<br/><img src="img/arrowDownBlack.png"/></div></td>
			<td><div class="carre-noir">Mer<br/><img src="img/arrowDownBlack.png"/></div></td>
			<td><div class="carre-noir">Jeu<br/><img src="img/arrowDownBlack.png"/></div></td>
			<td><div class="carre-noir">Ven<br/><img src="img/arrowDownBlack.png"/></div></td>
		</tr>
		<tr>
			<td class="semaine">01.12.2014</td>
			<td><div class="carre-blanc"><p>1/4</p></div></td>
			<td><div class="carre-vert"><p>0/4</p></div></td>
			<td><div class="carre-blanc"><p>0/4</p></div></td>
			<td><div class="carre-vert"><p>1/4</p></div></td>
			<td><div class="carre-vert"><p>1/4</p></div></td>
		</tr>
		<tr>
			<td>01.12.2014</td>
			<td><div class="carre-blanc"><p>1/4</p></div></td>
			<td><div class="carre-blanc"><p>1/4</p></div></td>
			<td><div class="carre-blanc"><p>0/4</p></div></td>
			<td><div class="carre-vert"><p>1/4</p></div></td>
			<td><div class="carre-blanc"><p>0/4</p></div></td>
		</tr>
	</table>-->
	<div id="registrationData">
        {
            <br>"driver":[1],
            <br>"ride":["2014-12-31","2015-01-07", "08:00", "08:45",4,[0,1,0,1,0,0,0],4],
            <br>"filling":[["2015-01-01",["Axel PIAGET","Elliott CHIARADIA","Joël BUCHS"]],["2015-01-06",["Axel PIAGET","Elliott CHIARADIA","Joël BUCHS"]]],
            <br>"registrations":["2014-12-31","2015-01-01","2015-01-06"],
            <br>"userId":[50]
        <br>}       
    </div>
    <br/>
    <div id="registrationData333">
        {
            "driver":[1],
            "ride":["2015-02-02","2015-03-02", "08:00", "08:45",4,[1,1,1,1,0,0,0],4],
            "filling":[["2015-02-15",["Axel PIAGET","Elliott CHIARADIA","Joël BUCHS"]],["2015-02-16",["Axel PIAGET","Elliott CHIARADIA","Joël BUCHS"]]],
            "registrations":["2015-02-16","2015-02-17","2015-02-18"],
            "userId":[50]
        }
    </div>
	<div class="tableau-calendrier">
	</div>
    <br>
    <style>
        td{
            margin: 0;
            padding: 0;
            border: 1px solid black;
        }
        .carre-vert{
            background-color: green;
        }
        .carre-blanc{
            background-color: #0099ff;
        }
    </style>

    <script>
    $(function () {
        //$('#registrationData333').registration();
    });

	$(function () {
		$('.tableau-calendrier').registration({
            "startdate":"2015-03-03 00:00:00",
            "enddate":"2015-03-29 00:00:00",
            "seats":"3",
            "recurrence": {
                "monday": true,
                "tuesday": true,
                "wednesday": true,
                "thursday": true,
                "friday": true,
                "saturday": false,
                "sunday": false
            },
            "registrations": [[
                {"id": "220","user_fk": "2","ride_fk": "2","date": "2015-03-02"},
                {"id": "351","user_fk": "71","ride_fk": "2","date": "2015-03-04"},
                {"id": "501","user_fk": "103","ride_fk": "2","date": "2015-03-10"}
            ]],
            "userId":"2"
        });
	});

    </script>

</body>
</html>